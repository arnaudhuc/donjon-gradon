var mapCanvas = {
    init: function () {
        this.drawMap();
    },
    drawMap: function () {
        // Define variables
        var tilesetImage = new Image();
        tilesetImage.src = '../../tilesets/pokemon.png';
        tilesetImage.onload = drawImage;

        var canvas = document.getElementById('mapCanvas');
        var ctx = canvas.getContext('2d');
        var tileSize = 16; // The size of a tile (32x32)
        var rowTileCount = 20; // The number of tiles in a row of our background
        var colTileCount = 32; // The number of tiles in a column of our background
        var imageNumTiles = 38; // The number of tiles per row in the tileset image

        // The tileset arrays
        var ground = [
    [  6,   6,   6,   6,   6,   6,   6,   6,   6,   6,  16,  16,   6,   6,   6,   6,   6,   6,   6,   6,  68,  79,  79, 171, 172, 172, 173,  79,  79,  55,  55,  55],
    [  6,  38, 172,  79,  34,  34,  34,  34,  34,  34, 146,  79,  79,  79,  79,  79,  79,  79,  38,   6,  79,  79, 155, 142, 172, 159, 189,  79,  79,  55,  55,  55],
    [  6,  38, 172,  79,  79,  34,  34,  34,  34,  34,  79,  79,  79,  79,  79,  79,  79,  79,  38,   6,  79,  79, 171, 172, 159, 189,  79,  79,  79,  55,  55,  55],
    [  6,  38, 188,  79,  79,  79,  79,  34,  34,  34,  36, 172, 172, 143, 142, 156,  79,  79,  38,   6,  79,  79, 186, 159, 189,  79,  79,  79,  55,  55,  55,  55],
    [  6,  38,  79,  79,  79,  79,  79,  79,  34,  34,  36, 172, 159, 158, 172, 143, 156,  79,  38,   6,  79,  79,  79,  79,  79,  79,  39,  51,  51,  51,  55,  55],
    [  6,  38,  79,  79,  79,  79,  79,  79,  79,  34,  36, 172, 143, 142, 172, 172, 143, 156,  38,   6,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  55],
    [  6,  38,  79,  79,  79,  79,  79,  79,  79,  34,  52, 172, 172, 172, 172, 172, 172, 143,  38,   6,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79],
    [  6,  38,  79,  79,  79,  79,  79,  79,  79,  34,  52, 172, 172, 172, 172, 172, 172, 159,  38,   6,  79,  79,  79,  79,  79, 171, 172, 172, 173,  79,  79,  79],
    [  6,  38,  79,  79,  79,  79,  79,  79,  79,  79,  79, 188, 158, 172, 172, 172, 172, 173,  38,   6,  79,  79,  79,  79,  79, 186, 158, 159, 189,  79,  79,  79],
    [  6,  38,  79,  79,  79,  79,  79,  79,  79,  79, 342, 343, 343, 343, 343, 344, 188, 189,  38,   6,  79,  79,  79,  79,  79,  79, 171, 173,  79,  79,  79,  79],
    [  6,  38,   0,   1,   7,   7,   7,   4,  79,  79, 380, 381, 381, 381, 381, 382,  79,  79,  38,   6,  79,  79,  79,  79,  79,  79, 171, 173,  79,  79,  79,  79],
    [  6,  38,   1,   0,  11,  11,  11,  11,  79,  79, 418, 419, 348, 349, 350, 420,  79,  79,  38,   6,  79,  79,  79,  79,  79,  79, 171, 173,  79,  79,  79,  79],
    [  6,  38,   0,   1,  49,  49,  49,  49,   0,   1, 456, 457, 231, 457, 457, 458,  79,  79,  38,   6,  79,  79,  79,  79,  79,  79, 171, 173,  79,  79,  79,  79],
    [  6,  38,   1,   0,   1,   0,   1,   0,   1,   0,   2,   2,   2,   2,   2,   2,   2,   2,  38,   6,  79,  79,  79,  79,  79,  79, 186, 189,  79,  79,  79,  79],
    [  6,  38,   0,   1,   0,   1,   0,   1,   0,   1,   7,   7,   7,   4,   7,   7,   2,   2,  38,   6,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79],
    [  6,  38,  38,  38,  10,  85,  85,   8,   2,   2,  11,  11,  11,  11,  38,  38,   2,   2,  38,   6,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79, 155, 156],
    [  6,  38,  38,  38,  48,  47,  47,  46,   2,   2,  49,  49,  49,  49,  38,  38,   2,   2,  38,   6,  79,  79,  79,  79,  79,  79,  79,  79,  79, 155, 142, 172],
    [  6,  38,  38,  38,  48,  47,  47,  46,   2,   2,   2,   2,   2,   2,   2,   2,   2,   2,  38,   6,  79,  79,  79,  79,  79,  79,  79,  79,  79, 171, 172, 172],
    [  6,   6,  38,  38,  48,  47,  47,  46,   6,   6,   6,   6,   6,   6,   6,   6,   6,   6,   6,   6,  79,  79,  79,  79,  79,  79,  79,  79,  79, 171, 172, 172],
    [196,  34,  34,  34,  34,  34,  79,  79,  79,  79, 171, 172, 172, 173,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79, 155, 142, 172, 172]
  ];
        function drawImage() {
            // Draw the arrays to the canvas
            for (var r = 0; r < rowTileCount; r++) {
                for (var c = 0; c < colTileCount; c++) {
                    var tile = ground[r][c];
                    var tileRow = (tile / imageNumTiles) | 0; // Bitwise OR operation
                    var tileCol = (tile % imageNumTiles) | 0;
                    ctx.drawImage(tilesetImage, (tileCol * tileSize), (tileRow * tileSize), tileSize, tileSize, (c * tileSize), (r * tileSize), tileSize, tileSize);
                }
            }
        }
    }
}
